<% if Decidim::TrustedIds.census_config_attributes.present? %>
  <div class="fieldset">
    <div class="field">
      <h4><%= t("decidim.trusted_ids.system.settings", handler: t("decidim.authorization_handlers.trusted_ids_census_handler.name")) %></h4>
      <%= f.fields_for :trusted_ids_census_config do |fields| %>
        <% Decidim::TrustedIds.census_config_attributes.each do |setting, _type| %>
          <div class="field">
            <%= fields.text_field setting.to_sym, value: f.object.trusted_ids_census_settings&.dig(setting.to_s), label: t("activemodel.attributes.trusted_ids_census_config.settings.#{setting}") %>
          </div>
        <% end %>
      <% end %>
    </div>
  </div>
<% end %>
